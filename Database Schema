# โครงสร้างฐานข้อมูล (Database Schema) ที่เขียนในรูปแบบ DBML (Database Markup Language)

Table purchase_transaction [note: "เอกสารซื้อ"] {
  branch_sync varchar [pk, note: "id ของร้าน/บริษัท"]
  doc_datetime date [note: "วันที่/เวลา"]
  doc_no varchar [pk, note: "เอกสารเลขที่"]
  status_cancel varchar [note: "สถานะยกเลิก Cancel=ยกเลิก"]
  creator_code varchar [note: "รหัสผู้สร้างเอกสาร"]
  creator_name varchar [note: "ชื่อผู้สร้างเอกสาร"]
  pos_id varchar [note: "หมายเลขเครื่อง POS ถ้ามีแปลว่ามาจากขาย POS"]
  supplier_code varchar [note: "รหัสเจ้าหนี้"]
  supplier_name varchar [note: "ชื่อเจ้าหนี้"]
  sale_code varchar [note: "รหัสพนักงานขาย"]
  sale_name varchar [note: "ชื่อพนักงานขาย"]
  doc_type varchar [note: "ประเภทเอกสาร CREDIT=เงินเชื่อ , CASH=เงินสด"]
  due_date date [note: "วันที่ครบกำหนด"]
  sum_point float [note: "แต้ม"]
  total_value float [note: "มูลค่าสินค้า"]
  total_discount float [note: "มูลค่าส่วนลด"]
  total_before_vat float [note: "ยอดก่อนภาษี"]
  total_vat_value float [note: "ภาษีมูลค่าเพิ่ม"]
  total_after_vat float [note: "มูลค่าหลังคิดภาษี"]
  total_except_vat float [note: "มูลค่ายกเว้นภาษี"]
  total_amount float [note: "มูลค่าสุทธิ"]
  remark varchar [note: "หมายเหตุ ทั้งหมด"]
  branch_code varchar [note: "รหัสสาขา"]
  branch_name varchar [note: "ชื่อสาขา"]
  department_code varchar [note: "รหัสแผนก"]
  department_name varchar [note: "ชื่อแผนก"]
  side_code varchar [note: "รหัสฝ่าย"]
  side_name varchar [note: "ชื่อฝ่าย"]
  project_code varchar [note: "รหัสโครงการ"]
  project_name varchar [note: "ชื่อโครงการ"]
  job_code varchar [note: "รหัสงาน"]
  job_name varchar [note: "ชื่องาน"]
  allocate_code varchar [note: "รหัสการจัดสรร"]
  allocate_name varchar [note: "ชื่อการจัดสรร"]
  billing_no_array varchar [note: "list เอกสารรับชำระ (รูปแบบ Json)"]
  sum_pay_money float [note: "มูลค่ารับชำระ (กรณีขายเงินเชื่อ)"]
  status_payment varchar [note: "สถานะค้างชำระ Outstanding=ค้างชำระ , Partially Paid=ชำระบางส่วน , Fully Paid=ชำระครบแล้ว"]
}

Table purchase_transaction_detail [note: "รายละเอียดเอกสารซื้อ"]{
  branch_sync varchar [pk, note: "id ของร้าน/บริษัท" , ref: > purchase_transaction.branch_sync]
  doc_datetime date [note: "วันที่/เวลา"]
  doc_no varchar [pk, note: "เอกสารเลขที่" , ref: > purchase_transaction.doc_no]
  branch_code varchar [note: "รหัสสาขา"]
  branch_name varchar [note: "ชื่อสาขา"]
  item_code varchar [note: "รหัสสินค้า"]
  barcode varchar [note: "บาร์โค้ด"]
  item_name varchar [note: "ชื่อสินค้า"]
  unit_code varchar [note: "รหัสหน่วยนับ"]
  unit_name varchar [note: "ชื่อหน่วยนับ"]
  wh_code varchar [note: "รหัสคลัง"]
  wh_name varchar [note: "ชื่อคลัง"]
  shelf_code varchar [note: "รหัสที่เก็บ"]
  shelf_name varchar [note: "ชื่อที่เก็บ"]
  qty float [note: "จำนวน"]
  price float [note: "ราคา"]
  discount_amount float [note: "มูลค่าส่วนลด"]
  sum_amount float [note: "มูลค่าสินค้า"]
  sum_of_cost float [note: "มูลค่าต้นทุน"]
  average_cost float [note: "ต้นทุนเฉลี่ย"]
  stand_value float [note: "ตัวตั้ง"]
  divide_value float [note: "ตัวหาร"]
  tax_type varchar [note: "ประเภทภาษี VAT=สินค้ามีภาษี , EXCEPTVAT=ยกเว้นภาษี"]
  item_brand_code varchar [note: "รหัสยี่ห้อสินค้า"]
  item_brand_name varchar [note: "ชื่อยี่ห้อสินค้า"]
  item_pattern_code varchar [note: "รหัสรูปแบบสินค้า"]
  item_pattern_name varchar [note: "ชื่อรูปแบบสินค้า"]
  item_design_code varchar [note: "รหัสรูปทรงสินค้า"]
  item_design_name varchar [note: "ชื่อรูปทรงสินค้า"]
  item_grade_code varchar [note: "รหัสเกรดสินค้า"]
  item_grade_name varchar [note: "ชื่อเกรดสินค้า"]
  item_model_code varchar [note: "รหัสรุ่นสินค้า"]
  item_model_name varchar [note: "ชื่อรุ่นสินค้า"]
  item_category_code varchar [note: "รหัสหมวดสินค้า"]
  item_category_name varchar [note: "ชื่อหมวดสินค้า"]
  item_class_code varchar [note: "รหัสระดับสินค้า"]
  item_class_name varchar [note: "ชื่อระดับสินค้า"]
  group_main_code varchar [note: "รหัสกลุ่มหลัก"]
  group_main_name varchar [note: "ชื่อกลุ่มหลัก"]
  group_sub_code varchar [note: "รหัสกลุ่มย่อย"]
  group_sub_name varchar [note: "ชื่อกลุ่มย่อย"]
  group_sub2_code varchar [note: "รหัสกลุ่มย่อย2"]
  group_sub2_name varchar [note: "ชื่อกลุ่มย่อย2"]
  description varchar [note: "รายละเอียด"]
  status_cancel varchar [note: "สถานะยกเลิก Cancel=ยกเลิก"]
}

Table saleinvoice_transaction [note: "เอกสารขาย"] {
  branch_sync varchar [pk, note: "id ของร้าน/บริษัท"]
  doc_datetime date [note: "วันที่/เวลา"]
  doc_no varchar [pk, note: "เอกสารเลขที่"]
  status_cancel varchar [note: "สถานะยกเลิก Cancel=ยกเลิก"]
  creator_code varchar [note: "ผู้สร้างเอกสาร"]
  creator_name varchar [note: "ผู้สร้างเอกสาร"]
  pos_id varchar [note: "หมายเลขเครื่อง POS ถ้ามีแปลว่ามาจากขาย POS"]
  customer_code varchar [note: "รหัสลูกหนี้/ลูกค้า , ถ้าเป็นค่าว่าง คือลูกค้าทั่วไป"]
  customer_name varchar [note: "ชื่อลูกหนี้/ลูกค้า , ถ้าเป็นค่าว่าง คือลูกค้าทั่วไป"]
  sale_code varchar [note: "รหัสพนักงานขาย"]
  sale_name varchar [note: "ชื่อพนักงานขาย"]
  doc_type varchar [note: "ประเภทเอกสาร CREDIT=เงินเชื่อ , CASH=เงินสด"]
  due_date date [note: "วันที่ครบกำหนด"]
  sum_point float [note: "แต้ม"]
  total_value float [note: "มูลค่าสินค้า"]
  total_discount float [note: "มูลค่าส่วนลด"]
  total_before_vat float [note: "ยอดก่อนภาษี"]
  total_vat_value float [note: "ภาษีมูลค่าเพิ่ม"]
  total_after_vat float [note: "มูลค่าหลังคิดภาษี"]
  total_except_vat float [note: "มูลค่ายกเว้นภาษี"]
  total_amount float [note: "มูลค่าสุทธิ"]
  remark varchar [note: "หมายเหตุ ทั้งหมด"]
  branch_code varchar [note: "รหัสสาขา"]
  branch_name varchar [note: "ชื่อสาขา"]
  department_code varchar [note: "รหัสแผนก"]
  department_name varchar [note: "ชื่อแผนก"]
  side_code varchar [note: "รหัสฝ่าย"]
  side_name varchar [note: "ชื่อฝ่าย"]
  project_code varchar [note: "รหัสโครงการ"]
  project_name varchar [note: "ชื่อโครงการ"]
  job_code varchar [note: "รหัสงาน"]
  job_name varchar [note: "ชื่องาน"]
  allocate_code varchar [note: "รหัสการจัดสรร"]
  allocate_name varchar [note: "ชื่อการจัดสรร"]
  billing_no_array varchar [note: "list เอกสารรับชำระ (รูปแบบ Json)"]
  sum_pay_money float [note: "มูลค่ารับชำระ (กรณีขายเงินเชื่อ)"]
  status_payment varchar [note: "สถานะค้างชำระ Outstanding=ค้างชำระ , Partially Paid=ชำระบางส่วน , Fully Paid=ชำระครบแล้ว"]
}

Table saleinvoice_transaction_detail [note: "รายละเอียดเอกสารขาย"]{
  branch_sync varchar [pk, note: "id ของร้าน/บริษัท" , ref: > saleinvoice_transaction.branch_sync]
  doc_datetime date [note: "วันที่/เวลา"]
  doc_no varchar [pk, note: "เอกสารเลขที่" , ref: > saleinvoice_transaction.doc_no]
  branch_code varchar [note: "รหัสสาขา"]
  branch_name varchar [note: "ชื่อสาขา"]
  item_code varchar [note: "รหัสสินค้า"]
  barcode varchar [note: "บาร์โค้ด"]
  item_name varchar [note: "ชื่อสินค้า"]
  unit_code varchar [note: "รหัสหน่วยนับ"]
  unit_name varchar [note: "ชื่อหน่วยนับ"]
  wh_code varchar [note: "รหัสคลัง"]
  wh_name varchar [note: "ชื่อคลัง"]
  shelf_code varchar [note: "รหัสที่เก็บ"]
  shelf_name varchar [note: "ชื่อที่เก็บ"]
  qty float [note: "จำนวน"]
  price float [note: "ราคา"]
  discount_amount float [note: "มูลค่าส่วนลด"]
  sum_amount float [note: "มูลค่าสินค้า"]
  sum_of_cost float [note: "มูลค่าต้นทุน"]
  average_cost float [note: "ต้นทุนเฉลี่ย"]
  stand_value float [note: "ตัวตั้ง"]
  divide_value float [note: "ตัวหาร"]
  tax_type varchar [note: "ประเภทภาษี VAT=สินค้ามีภาษี , EXCEPTVAT=ยกเว้นภาษี"]
  item_brand_code varchar [note: "รหัสยี่ห้อสินค้า"]
  item_brand_name varchar [note: "ชื่อยี่ห้อสินค้า"]
  item_pattern_code varchar [note: "รหัสรูปแบบสินค้า"]
  item_pattern_name varchar [note: "ชื่อรูปแบบสินค้า"]
  item_design_code varchar [note: "รหัสรูปทรงสินค้า"]
  item_design_name varchar [note: "ชื่อรูปทรงสินค้า"]
  item_grade_code varchar [note: "รหัสเกรดสินค้า"]
  item_grade_name varchar [note: "ชื่อเกรดสินค้า"]
  item_model_code varchar [note: "รหัสรุ่นสินค้า"]
  item_model_name varchar [note: "ชื่อรุ่นสินค้า"]
  item_category_code varchar [note: "รหัสหมวดสินค้า"]
  item_category_name varchar [note: "ชื่อหมวดสินค้า"]
  item_class_code varchar [note: "รหัสระดับสินค้า"]
  item_class_name varchar [note: "ชื่อระดับสินค้า"]
  group_main_code varchar [note: "รหัสกลุ่มหลัก"]
  group_main_name varchar [note: "ชื่อกลุ่มหลัก"]
  group_sub_code varchar [note: "รหัสกลุ่มย่อย"]
  group_sub_name varchar [note: "ชื่อกลุ่มย่อย"]
  group_sub2_code varchar [note: "รหัสกลุ่มย่อย2"]
  group_sub2_name varchar [note: "ชื่อกลุ่มย่อย2"]
  description varchar [note: "รายละเอียด"]
  status_cancel varchar [note: "สถานะยกเลิก Cancel=ยกเลิก"]
}

Table stock_transaction [note: "เคลื่อนไหวสต็อก"] {
  branch_sync varchar [pk, note: "id ของร้าน/บริษัท"]
  item_code varchar [note: "รหัสสินค้า"]
  item_name varchar [note: "ชื่อสินค้า"]
  doc_datetime datetime [note: "วันที่/เวลา"]
  doc_no varchar [note: "เอกสารเลขที่"]
  line_number float [note: "บรรทัดในเอกสาร"]
  doc_type varchar [note: "ประเภทเอกสาร"]
  ic_unit_code varchar [note: "รหัสหน่วยนับ"]
  ic_unit_name varchar [note: "ชื่อหน่วยนับ"]
  wh_code varchar [note: "รหัสคลัง"]
  wh_name varchar [note: "ชื่อคลัง"]
  shelf_code varchar [note: "รหัสที่เก็บ"]
  shelf_name varchar [note: "ชื่อที่เก็บ"]
  calc_type varchar [note: "ประเภทการคำนวณ"]
  qty float [note: "จำนวน >0=จำนวนเข้า , <0=จำนวนออก"]
  cost float [note: "ต้นทุนของเอกสาร"]
  amount float [note: "มูลค่าตามเอกสาร"]
  item_brand_code varchar [note: "รหัสยี่ห้อสินค้า"]
  item_brand_name varchar [note: "ชื่อยี่ห้อสินค้า"]
  item_pattern_code varchar [note: "รหัสรูปแบบสินค้า"]
  item_pattern_name varchar [note: "ชื่อรูปแบบสินค้า"]
  item_design_code varchar [note: "รหัสรูปทรงสินค้า"]
  item_design_name varchar [note: "ชื่อรูปทรงสินค้า"]
  item_grade_code varchar [note: "รหัสเกรดสินค้า"]
  item_grade_name varchar [note: "ชื่อเกรดสินค้า"]
  item_model_code varchar [note: "รหัสรุ่นสินค้า"]
  item_model_name varchar [note: "ชื่อรุ่นสินค้า"]
  item_category_code varchar [note: "รหัสหมวดสินค้า"]
  item_category_name varchar [note: "ชื่อหมวดสินค้า"]
  item_class_code varchar [note: "รหัสระดับสินค้า"]
  item_class_name varchar [note: "ชื่อระดับสินค้า"]
  group_main_code varchar [note: "รหัสกลุ่มหลัก"]
  group_main_name varchar [note: "ชื่อกลุ่มหลัก"]
  group_sub_code varchar [note: "รหัสกลุ่มย่อย"]
  group_sub_name varchar [note: "ชื่อกลุ่มย่อย"]
  group_sub2_code varchar [note: "รหัสกลุ่มย่อย2"]
  group_sub2_name varchar [note: "ชื่อกลุ่มย่อย2"]
}

Table payment_transaction [note: "รายละเอียดการชำระ"] {
  branch_sync varchar [pk, note: "id ของร้าน/บริษัท"]
  doc_datetime date [note: "วันที่/เวลา"]
  doc_no varchar [pk, note: "เอกสารเลขที่"]
  status_cancel varchar [note: "สถานะยกเลิก Cancel=ยกเลิก"]
  doc_type varchar [note: "ประเภทเอกสาร"]
  pay_type varchar [note: "ประเภทการรับ/จ่ายเงิน in=รับเงิน , out=จ่ายเงิน"]
  debtor_creditor_type varchar [note: "ประเภท ลูกหนี้/เจ้าหนี้ CUSTOMER=ลูกหนี้/ลูกค้า , SUPPLER=เจ้าหนี้ , OTHER=อื่นๆ"]
  debtor_creditor_name varchar [note: "ชื่อ ลูกหนี้/เจ้าหนี้"]
  total_amount float [note: "รวมยอดเงินตามบิล"]
  other_charge_amount float [note: "รับ/จ่ายอื่นๆ เพิ่มจากยอดบิล"]
  total_credit_charge float [note: "ยอดรวมค่า charge บัตรเครดิต"]
  total_net_amount float [note: "ยอดรวมสุทธิที่ต้องรับ/จ่าย"]
  cash_amount float [note: "ยอดเงินสด"]
  rounding_amount float [note: "ยอดปัดเศษ"]
  petty_cash_amount float [note: "ยอดเงินสดย่อย"]
  deposit_amount float [note: "ยอดเงินล่วงหน้า"]
  total_tax_at_pay float [note: "ยอดภาษีหัก ณ ที่จ่าย"]
  cheque_amount float [note: "ยอดเช็ค"]
  transfer_amount float [note: "ยอดเงินโอน"]
  card_amount float [note: "ยอดบัตรเครดิต"]
  coupon_amount float [note: "ยอดคูปอง"]
  point_amount float [note: "ยอดแต้มที่ใช้เป็นส่วนลด"]
  discount_amount float [note: "ยอดส่วนลดการชำระเงิน"]
  other_payment_amount float [note: "ยอดชำระอื่นๆ"]
  wallet_amount float [note: "ยอดที่รับ/จ่ายผ่าน Wallet"]
  total_amount_pay float [note: "รวมยอดรับเงิน/จ่ายเงิน"]
  branch_code varchar [note: "รหัสสาขา"]
  branch_name varchar [note: "ชื่อสาขา"]
  department_code varchar [note: "รหัสแผนก"]
  department_name varchar [note: "ชื่อแผนก"]
  side_code varchar [note: "รหัสฝ่าย"]
  side_name varchar [note: "ชื่อฝ่าย"]
  project_code varchar [note: "รหัสโครงการ"]
  project_name varchar [note: "ชื่อโครงการ"]
  job_code varchar [note: "รหัสงาน"]
  job_name varchar [note: "ชื่องาน"]
  allocate_code varchar [note: "รหัสการจัดสรร"]
  allocate_name varchar [note: "ชื่อการจัดสรร"]
}

Table journal_transaction_detail [note: "รายละเอียดการบันทึกบัญชี"] {
  branch_sync varchar [pk, note: "id ของร้าน/บริษัท"]
  doc_datetime date [note: "วันที่/เวลา"]
  doc_no varchar [pk, note: "เอกสารเลขที่"]
  period_number varchar [note: "งวดบัญชี"]
  account_year varchar [note: "ปีภาษี"]
  book_code varchar [note: "รหัสสมุดบัญชี"]
  book_name varchar [note: "ชื่อสมุดบัญชี"]
  account_code varchar [note: "รหัสฝังบัญชี"]
  account_name varchar [note: "ชื่อฝังบัญชี"]
  debit float [note: "ยอดเดบิต"]
  credit float [note: "ยอดเครดิต"]
  account_type varchar [note: "หมวดบัญชี"]
  branch_code varchar [note: "รหัสสาขา"]
  branch_name varchar [note: "ชื่อสาขา"]
  }